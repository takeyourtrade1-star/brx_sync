# BRX Sync - Example environment (copy to .env and fill in)
# Never commit .env to version control

# PostgreSQL (async driver required)
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/brx_sync_db

# MySQL (read-only, for blueprint mapping)
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=your_mysql_user
MYSQL_PASSWORD=your_mysql_password
MYSQL_DATABASE=your_database

# Redis (rate limiting + Celery broker)
REDIS_URL=redis://localhost:6379/0

# Fernet key for encrypting CardTrader tokens (generate with cryptography.fernet)
FERNET_KEY=

# JWT public key (PEM) - MUST be the same as Auth service so Sync accepts the same tokens.
# Required for /api/v1/sync/* endpoints. Without it you get 500 "Not authenticated".
# JWT_PUBLIC_KEY=

# Application
DEBUG=false
ENVIRONMENT=development
PROJECT_NAME=BRX Sync
APP_NAME=brx-sync
APP_VERSION=1.0.0

# CORS: comma-separated origins (no spaces). Required for frontend on Amplify / custom domain.
# Example: https://main.d8ry9s45st8bf.amplifyapp.com,https://www.ebartex.com
# Use * only in local dev (not recommended in production).
ALLOWED_ORIGINS=https://main.d8ry9s45st8bf.amplifyapp.com

# CardTrader API
CARDTRADER_API_BASE_URL=https://api.cardtrader.com/api/v2

# Rate limiting (CardTrader limits)
RATE_LIMIT_REQUESTS=200
RATE_LIMIT_WINDOW_SECONDS=10

# Scalability: set to false in production with many Celery workers to avoid file log contention
# SYNC_LOG_TO_FILE=false
